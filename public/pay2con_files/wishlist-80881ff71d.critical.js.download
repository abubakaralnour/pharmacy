!function(){const s="ssw-fave-list-hide";var e=null,t=new Promise((function(s,t){e=s}));class i{static instancePromise=t;constructor(s,t,i,n){this._$=s,this._wishlistListsManager=i,this._wishlistOptionsManager=t,this._wishlistAssetsLoader=n,this.selectors={listWidget:"#ssw-fave-list-widget",sideBackdrop:"#ssw-fave-side-backdrop",sideBar:"#ssw-fave-side-bar",lists:"#ssw-fave-lists",toggleButton:"#ssw-fave-side-button",closeButton:".ssw-fave-close"},this.elements={listWidget:null,sideBackdrop:null,sideBar:null,lists:null,toggleButton:null,closeButton:null},this.state={isClose:!1},this.settings={visibility:"onfave"},this.toggleWidgetVisibility=this.toggleWidgetVisibility.bind(this),this.init(),e(this)}init(){this.bindElements(),this.bindEvents(),this._wishlistListsManager.getFavesList().then((()=>{this._wishlistListsManager.permissions.showDrawer&&(this.setWidgetPosition(this.elements.listWidget,this._wishlistListsManager.settings.position),this.setSideButtonVisibility(this.elements.listWidget,this._wishlistListsManager.settings.visibility),(this._wishlistListsManager.settings.guest_faves||this._wishlistOptionsManager.options.customer)&&("onfave"!==this._wishlistListsManager.settings.visibility?(this.toggleWidgetVisibility(),window.addEventListener("resize",this.debounce(this.toggleWidgetVisibility,200))):this.deleteDisplayNone()))}))}bindElements(){this.elements={listWidget:this._$(this.selectors.listWidget),sideBackdrop:this._$(this.selectors.sideBackdrop),sideBar:this._$(this.selectors.sideBar),lists:this._$(this.selectors.lists),toggleButton:this._$(this.selectors.toggleButton),closeButton:this._$(this.selectors.closeButton)}}bindEvents(){this.elements.toggleButton.on("click",this.toggleWidget.bind(this)),this.elements.closeButton.on("click",this.hideDrawer.bind(this)),this.elements.sideBackdrop.on("click",this.hideDrawer.bind(this)),this.elements.sideBar.on("keyup",this.hideDrawerOnEscape.bind(this)),this.elements.sideBar.on("focusout",this.closeDrawerOnFocusOut.bind(this))}deleteDisplayNone(){this.elements.listWidget.removeAttr("style")}showWidgetElement(){const s=this;Ssw.wishlist.WishlistListsManager.permissionsPromise.then((function(){s._wishlistListsManager.permissions.showDrawer&&(s.elements.listWidget.removeAttr("style"),s.elements.listWidget.removeClass("ssw-fave-hidden"))}))}hideWidgetElement(){this.elements.listWidget.addClass("ssw-fave-hidden")}toggleWidgetVisibility(){this.isDrawerVisible()?this.showWidgetElement():this.hideWidgetElement()}isDrawerVisible(){const s=window.innerWidth,e=window.sswApp.metafield_settings.wishlist_tab_mobile_enable,t=window.sswApp.metafield_settings.wishlist_toolbar;return s<=480?!!e:!!t}debounce(s,e){let t=null;return function(){clearTimeout(t),t=setTimeout((()=>{s.apply(this,arguments)}),e)}}toggleWidget(s,e){this.state.isOpen?this.hideDrawer():this.showDrawer()}showDrawer(){this._wishlistAssetsLoader.loadMain().then((()=>{Ssw.Fave.init(this._wishlistOptionsManager.options)})),this.elements.sideBar.removeAttr("style"),this.elements.listWidget.removeClass(s),this.elements.sideBar.css("opacity",1),this.elements.sideBar.attr("tabIndex",1),this.elements.sideBar.focus(),this.state.isOpen=!0}hideDrawer(){this.elements.sideBar.removeAttr("style"),this.elements.listWidget.addClass(s),this.elements.sideBar.css("opacity",1),this.elements.sideBar.removeAttr("tabIndex"),this.state.isOpen=!1}hideDrawerOnEscape(s){"Escape"===s.key&&this.hideDrawer()}closeDrawerOnFocusOut(){requestAnimationFrame((()=>{this.elements.sideBar[0].contains(document.activeElement)||document.activeElement===document.body||this.hideDrawer()}))}teaseWidget(){var s=this.elements.sideBar,e=this.elements.listWidget;e.hasClass("ssw-fave-side-bar-tease")||(s.css("opacity",0),e.addClass("ssw-fave-side-bar-tease"),setTimeout((()=>{e.removeClass("ssw-fave-side-bar-tease"),setTimeout((function(){s.css("opacity",1)}),300),"onfave"===this._wishlistListsManager.settings.visibility&&e.addClass("ssw-fave-hidden")}),2e3))}setWidgetPosition(s,e){s.addClass(e+1?"ssw-left-top":"ssw-right-top")}setSideButtonVisibility(s,e){window.screen.width>1025&&"onfave"==e&&(this._wishlistListsManager.settings.position>0?window.addEventListener("mouseout",(s=>{window.screen.width-s.screenX<64?this._sswFaveSiteButtonTeaserTimeOut=setTimeout((()=>{this._wishlistListsManager.settings.widget&&this.elements.listWidget.removeClass("ssw-fave-hidden")}),1e3):(window._sswFaveIconEffect||(clearTimeout(window._barHideTimeout),window._barHideTimeout=setTimeout((()=>{this._wishlistListsManager.settings.widget&&this.elements.listWidget.addClass("ssw-fave-hidden")}),this._wishlistListsManager.settings.show_tab_delay)),clearTimeout(this._sswFaveSiteButtonTeaserTimeOut))})):window.addEventListener("mousemove",(s=>{s.screenX<64?this._wishlistListsManager.settings.widget&&this.elements.listWidget.hasClass("ssw-fave-hidden")&&(this._sswFaveSiteButtonTeaserTimeOut=setTimeout((()=>{this.elements.listWidget.removeClass("ssw-fave-hidden")}),1e3)):this.elements.listWidget.hasClass("ssw-fave-hidden")||window._sswFaveIconEffect||(clearTimeout(window._barHideTimeout),window._barHideTimeout=setTimeout((()=>{this._wishlistListsManager.settings.widget&&this.elements.listWidget.addClass("ssw-fave-hidden")}),this._wishlistListsManager.settings.show_tab_delay),clearTimeout(this._sswFaveSiteButtonTeaserTimeOut))}))),s.addClass("onfave"==e?"ssw-fave-hidden":"")}}Ssw.wishlist.WishlistDrawerWidget=i,Promise.all([Ssw.wishlist.WishlistJqueryLocator.instancePromise,Ssw.wishlist.WishlistOptionsManager.instancePromise,Ssw.wishlist.WishlistListsManager.instancePromise,Ssw.wishlist.WishlistAssetsLoader.instancePromise]).then((([s,e,t,n])=>{Ssw.wishlist.instances.wishlistDrawerWidget=new i(s.getInstance(),e,t,n)})),setTimeout((()=>{document.dispatchEvent(new Event("SSW_WISHLIST_CRITICAL_LOADED",{bubbles:!0}))}),0)}();
!function(){const s=[".ssw-fave-btn",".ssw-fave-icon",".ssw-fave-link"],t="ssw-tmp-faves";var a=null;class i{static instancePromise=new Promise((function(s,t){a=s}));constructor(s,t,i,e,n){this._$=s,this._wishlistListsManager=t,this._wishlistCacheManager=i,this._wishlistAssetsLoader=e,this._wishlistOptionsManager=n,this.init(),a(this)}init(){this.bindEvents(),window.gwDisableWishlistCache&&this._wishlistCacheManager.clear("faves")}bindEvents(){const a=this;ssw(document.body).on("click",s.join(", "),(function(){var s=ssw(this);if(void 0===ssw(this).attr("onclick"))return a.handleFaveProduct(s),s.hasClass("ssw-faveappbtn-hidden-count")&&s.toggleClass("ssw-faveappbtn-hidden-count"),!1}));ssw(document.body).on("keydown",s.join(", "),(function(s){if("Enter"===s.key){var t=ssw(this);if(void 0===ssw(this).attr("onclick"))return a.handleFaveProduct(t),t.hasClass("ssw-faveappbtn-hidden-count")&&t.toggleClass("ssw-faveappbtn-hidden-count"),!1}})),ssw(document).on("click",["#product-variants .swatch-box .swatch-element",".product-form-product-template .swatch .swatch-element","#product-variants .swatch .swatch-element",".product__variant-picker .product-option-item"].join(", "),(function(){let s=ssw(this);setTimeout((function(){s.closest("#product-variants").length?s.closest("#product-variants").find(".single-option-selector:first").change():s.closest(".product-form-product-template").length?s.closest(".product-form-product-template").find(".product-form__variants").change():ssw(".product__variant-picker .product-option-item").change()}),0)}));const i=["form[action='/cart/add']","form[action$='/cart/add'] select","form[action$='/cart/add'] input",".ssw-product-container .ssw-product-form select",".ssw-product-container .ssw-product-form input","#shopify-section-product-template form[action$='/cart/add']","#shopify-section-product-template form[action$='/cart/add'] select","#shopify-section-product-template form[action$='/cart/add'] input","form.product-purchase-form[action^='/cart/add']","form.product-purchase-form[action^='/cart/add'] select","form.product-purchase-form[action^='/cart/add'] input","product-form form[action$='/cart/add.js']","product-form form[action$='/cart/add.js'] select","product-form form[action$='/cart/add.js'] input","product-form form[action$='/cart/add']","product-form form[action$='/cart/add'] select","product-form form[action$='/cart/add'] input","form[action^='/cart/add.js']","form[action^='/cart/add.js'] select","form[action^='/cart/add.js'] input","form[action$='/cart/add.js']","form[action$='/cart/add.js'] select","form[action$='/cart/add.js'] input","form[action$='/cart/add']","form[action$='/cart/add'] select","form[action$='/cart/add'] input","form[action^='/cart/add']","form[action^='/cart/add'] select","form[action^='/cart/add'] input","#shopify-section-product-template form.ProductForm","#shopify-section-product-template form.ProductForm select","#shopify-section-product-template form.ProductForm input","form.ProductForm","form.ProductForm select","form.ProductForm input","form.product-single__form","form.product-single__form select","form.product-single__form input"];ssw.each(i,(function(s){let t=i[s];if(ssw(t)[0]&&ssw(t).is("form")){let s=ssw(t).attr("id");ssw(`[form='${s}']`)[0]&&i.push(`[form='${s}']`)}})),ssw(document).on("change",i.join(", "),(({currentTarget:s}=event)=>{if(this._wishlistListsManager.settings&&this._wishlistListsManager.settings.fave_with_variant){let t=a.findForm(s),i=this._wishlistOptionsManager.getVariantId(t),e=a.findFaveElement(s);a.onVariantSelect(i,e)}})),ssw(window).on("load",(function(){ssw("#product-variants .swatch-box .swatch-element, .product-form-product-template .swatch .swatch-element, #product-variants .swatch .swatch-element").closest('form[action="/cart/add"], form[action$="/cart/add"] select, form .single-option-selector, form .single-option-selector__radio, .ssw-product-container .ssw-product-form select, .product-form-product-template .product-form__variants').change()})),ssw(document).on("sswafterlogin",(function(s){let a=JSON.parse(localStorage.getItem(t));if(a?.value){let s={faves:a.value.faves,_sid:ssw.cookie("hesid"),hash_key:ssw.cookie("hash_key")};ssw.post(sswProxyUrl+"/lite2/guest-fave",s,(function(s){}),"json")}})),window.addEventListener("gwWishlistProductVariantSelected",(function(s){if(a._wishlistListsManager.settings&&a._wishlistListsManager.settings.fave_with_variant){let t=s?.detail?.target,i=s?.detail?.variantId;if(t){if(!i){let s=a.findForm(t);i=a._wishlistOptionsManager.getVariantId(s)}let s=a.findFaveElement(t);a.onVariantSelect(i,s)}}}))}findFaveElement(s){let t;return ssw(s).closest(".ssw-product-form").length?t=ssw(s).closest(".ssw-product-container").find(".ssw-product-btns .ssw-fave-btn"):(t=ssw("#widget-fave-html .ssw-fave-btn, #widget-fave-html .ssw-fave-link"),t.length||(t=ssw(s).closest(".product-form-product-template").find(".ssw-faveappbtn")),t.length||(t=ssw(".ssw-faveappbtn"))),t}findForm(s){let t=ssw(s).closest("form");return t||void 0===ssw(s).attr("form")||(t=ssw(`#${ssw(s).attr("form")}`)),t}onVariantSelect(s,t){if(t.length){let a=t.data("user-faves")||{},i=!1;if("string"==typeof a&&(a=JSON.parse(a)),this._wishlistListsManager.settings.fave_multiple_variant&&s?void 0!==a[s]&&(i=!0):this._wishlistListsManager.settings.fave_multiple_variant||s&&void 0!==a[s]&&(i=!0),i){if(t.hasClass("ssw-fave-btn")){let s=t.find(".ssw-fave-btn-content");s.length?"wishlist_button"===s.data("button-type")?s.html('<i class="ssw-icon-heart"></i>'+sswLangs.t("faved_icon")+`<span class="ssw-wishlist-btn-counter">(${t.data("count")})</span>`):s.html('<i class="ssw-icon-heart"></i>'+sswLangs.t("faved_icon")):"wishlist_button"===s.data("button-type")?t.html('<div class="ssw-fave-btn-content"><i class="ssw-icon-heart"></i>'+sswLangs.t("faved_icon")+`<span class="ssw-wishlist-btn-counter">(${t.data("count")})</span></div>`):t.html('<div class="ssw-fave-btn-content"><i class="ssw-icon-heart"></i>'+sswLangs.t("faved_icon")+"</div>"),t.addClass("ssw-active")}else t.hasClass("ssw-fave-link")?(t.html(sswLangs.t("remove_from_faves")),t.addClass("ssw-active")):t.removeClass("ssw-icon-heart-o").addClass("ssw-icon-heart");t.attr("title",sswLangs.t("unfave"))}else{if(t.hasClass("ssw-fave-btn")){let s=t.find(".ssw-fave-btn-content");s.length?"wishlist_button"===s.data("button-type")?s.html('<i class="ssw-icon-heart-o"></i>'+sswLangs.t("fave")+`<span class="ssw-wishlist-btn-counter">(${t.data("count")})</span>`):s.html('<i class="ssw-icon-heart-o"></i>'+sswLangs.t("fave")):"wishlist_button"===s.data("button-type")?t.html('<div class="ssw-fave-btn-content"><i class="ssw-icon-heart-o"></i>'+sswLangs.t("fave")+`<span class="ssw-wishlist-btn-counter">(${t.data("count")})</span></div>`):t.html('<div class="ssw-fave-btn-content"><i class="ssw-icon-heart-o"></i>'+sswLangs.t("fave")+"</div>"),t.removeClass("ssw-active")}else t.hasClass("ssw-fave-link")?(t.html(sswLangs.t("add_to_faves")),t.removeClass("ssw-active")):t.removeClass("ssw-icon-heart").addClass("ssw-icon-heart-o");t.attr("title",sswLangs.t("fave"))}t.data("variant-id",s),t.attr("data-variant-id",s)}}showAnimation(s){let t=null;if(t=s.$senderElement&&s.$senderElement.length?s.$senderElement.hasClass("ssw-fave-btn")?s.$senderElement.hasClass("ssw-active")?s.$senderElement.find(".ssw-icon-heart"):s.$senderElement.find(".ssw-icon-heart-o"):s.$senderElement:this._wishlistListsManager.settings.fave_with_variant?ssw([`.ssw-icon-heart[data-variant-id="${s.item.variant_id}"]`,`[data-variant-id="${s.item.variant_id}"] .ssw-icon-heart`,`.ssw-icon-heart-o[data-variant-id="${s.item.variant_id}"]`,`[data-variant-id="${s.item.variant_id}"] .ssw-icon-heart-o`].join(", ")):ssw([`'.ssw-icon-heart[data-product-id="${s.item.product_id}"]`,`[data-product-id="${s.item.product_id}"] .ssw-icon-heart`,`.ssw-icon-heart-o[data-product-id="${s.item.product_id}"]`,`[data-product-id="${s.item.product_id}"] .ssw-icon-heart-o`].join(", ")),!t.data("animating"))if(t.data("animating",1),"function"==typeof window.customFaveAnimation)customFaveAnimation(t);else if(this._wishlistListsManager.settings.widget||sswApp.metafield_settings.wishlist_tab_mobile_enable){const s=ssw("#ssw-fave-side-button i");if(t.length){let a=t[0].getBoundingClientRect();const i=t.clone();i.hasClass("ssw-icon-heart-o")&&i.removeClass("ssw-icon-heart-o").addClass("ssw-icon-heart"),i.addClass("ssw-fave-animation-icon"),ssw(document.body).append(i),i.css({top:a.top,left:a.left,"-webkit-transform":"scale(2.5)",transform:"scale(2.5)"}),a=s[0].getBoundingClientRect(),i.css({top:a.top,left:a.left,"-webkit-transform":"scale(1)",transform:"scale(1)"}),localStorage.getItem("ssw-fave-board-seen")?Ssw.wishlist.WishlistDrawerWidget.instancePromise.then((s=>{s.showWidgetElement()})):(localStorage.setItem("ssw-fave-board-seen",1),Ssw.wishlist.WishlistDrawerWidget.instancePromise.then((s=>{s.showWidgetElement(),s.showDrawer()}))),setTimeout((()=>{s.addClass("ssw-fave-adding-effect"),i.remove(),setTimeout((()=>{s.removeClass("ssw-fave-adding-effect"),"onfave"===this._wishlistListsManager.settings.visibility&&(clearTimeout(window._barHideTimeout),window._barHideTimeout=setTimeout((()=>{Ssw.wishlist.WishlistDrawerWidget.instancePromise.then((s=>{s.hideWidgetElement()}))}),this._wishlistListsManager.settings.show_tab_delay))}),200)}),500)}}}showDrawer(){"onfave"===this._wishlistListsManager.settings.visibility&&(clearTimeout(window._barHideTimeout),window._barHideTimeout=setTimeout((()=>{Ssw.wishlist.WishlistDrawerWidget.instancePromise.then((s=>{s.hideDrawer(),window._sswFaveIconEffect=!1}))}),this._wishlistListsManager.settings.show_tab_delay))}findFaveBtnsByProductId(s){return ssw('.ssw-fave-btn[data-product-id="'+s+'"]')}findFaveIconsByProductId(s){return ssw('.ssw-fave-icon[data-product-id="'+s+'"], .ssw-fave-link[data-product-id="'+s+'"]')}markButtonsAsPending(s,t){if(!s.data("pending")){var a=t.product_id;const s=this.findFaveBtnsByProductId(a);s.data("pending",1),s.attr("disabled","disabled");this.findFaveIconsByProductId(a).data("pending",1)}}unmarkButtonsAsPending(s,t){if(s.data("pending")){var a=t.product_id;const s=this.findFaveBtnsByProductId(a);s.data("pending",0),s.removeAttr("disabled");const i=this.findFaveIconsByProductId(a);i.data("pending",0),i.data("animating",0)}}handleGuestFaves(s){let a=this._wishlistCacheManager.getCache(t);a||(a={faves:[]});a.faves.find((t=>t.product_id==s.product_id))||(a.redirectUrl=window.location.href,a.faves.push({product_id:s.product_id}),this._wishlistCacheManager.setCache(t,null,a,604800))}isMarkedAsPending(s){return!!s.data("pending")}isActiveButton(s,t){return s?s.hasClass("ssw-active")||s.hasClass("ssw-icon-heart"):t.active}faveStatusChange(s,t){let a=s.data("product-id"),i=ssw(`.ssw-fave-btn[data-product-id="${a}"] .ssw-fave-btn-content`),e=ssw(`.ssw-fave-btn[data-product-id="${a}"]`);this.isActiveButton(s,t)?"wishlist_button"===e.data("button-type")?i.html('<i class="ssw-icon-heart-o"></i>'+sswLangs.t("fave_icon")+`<span class="ssw-wishlist-btn-counter">(${e.data("count")})</span>`):i.html('<i class="ssw-icon-heart-o"></i>'+sswLangs.t("fave_icon")):"wishlist_button"===e.data("button-type")?i.html('<i class="ssw-icon-heart"></i>'+sswLangs.t("faved_icon")+`<span class="ssw-wishlist-btn-counter">(${e.data("count")})</span>`):i.html('<i class="ssw-icon-heart"></i>'+sswLangs.t("faved_icon"))}handleFaveProduct(s){if((JSON.parse(localStorage.getItem("gw_has_guest_wishlist_items"))??!0)||this.guestsFirstFave(),this.isMarkedAsPending(s))return;const t=s.data("params");this.markButtonsAsPending(s,t),this._wishlistListsManager.getFavesList().then((()=>{if(void 0===sswApp.customer&&!this._wishlistListsManager.settings.guest_faves)return this._wishlistListsManager.settings.wishlist_show_signup_form?sswSignupRequired(sswLangs.t("sign_up_to_fave"),s):sswLoginRequired(sswLangs.t("log_in_to_fave"),s),this.handleGuestFaves(t),void this.unmarkButtonsAsPending(s,t);this.isActiveButton(s)?this.faveStatusChange(s,t):Ssw.wishlist.WishlistDrawerWidget.instancePromise.then((a=>{a.isDrawerVisible()&&this.showAnimation({$senderElement:s,item:t}),this.faveStatusChange(s,t)})),this._wishlistCacheManager.clear("faves"),this._wishlistAssetsLoader.loadMain().then((()=>{Ssw.Fave.init(this._wishlistOptionsManager.options),(Ssw.Fave.promises.initWidgetPromise||Promise.resolve(null)).then((()=>{Ssw.Fave.action.handleFave(s,t)}))}))}))}guestsFirstFave(){localStorage.setItem("gw_has_guest_wishlist_items",!0)}}Ssw.wishlist.WishlistProductButtonWidget=i,Promise.all([Ssw.wishlist.WishlistJqueryLocator.instancePromise,Ssw.wishlist.WishlistListsManager.instancePromise,Ssw.wishlist.WishlistCacheManager.instancePromise,Ssw.wishlist.WishlistAssetsLoader.instancePromise,Ssw.wishlist.WishlistOptionsManager.instancePromise]).then((([s,t,a,e,n])=>{Ssw.wishlist.instance=new i(s,t,a,e,n)}))}();
!function(){const t="widget-fave-html",s=`<div id="${t}" data-gw-autointegration="1"></div>`,e=["#shopify-section-product-template form[action$='/cart/add']","form.product-purchase-form[action^='/cart/add']","product-form form[action$='/cart/add.js']","product-form form[action$='/cart/add']","form[action$='/cart/add.js']","form[action$='/cart/add.js']","form[action$='/cart/add']","form[action^='/cart/add']","#shopify-section-product-template form.ProductForm","form.ProductForm","form.product-single__form"],i=["btn","btn1","pr_btn","btn--full","btn--secondary","w-full","button","button--primary","button--filled","button--large","button--primary__filled","_button--secondary","_button--primary","action_button","button--full-width"];var n=null,o=new Promise((function(t,s){n=t}));class r{static instancePromise=o;constructor(t,s,e){this._$=t,this._wishlistListsManager=s,this._productButtonWidget=e,this.form=null,this.init(),n(this)}init(){const t=this;Ssw.wishlist.WishlistListsManager.settingsPromise.then((function(){if(t.detectForm(),sswAddEventListener("sswWishlistProductWidgetReady",(s=>{const e=s.detail.data,i={productId:e.productId,productHandle:e.productHandle,widget:e.widget,hasWishlistButton:Number(t.doesFaveButtonPlaceholderExist()&&t.doesFaveButtonExist())};t.sendToKafka(i)})),!window.gwInstalled||!t.isAvailableForGuests()||!t.detectProductId())return!1;!t.doesFaveButtonPlaceholderExist()&&t.isAutoIntegrationEnabled()&&t.injectFaveButton(t.form)}))}sendToKafka(t){ssw.get(sswProxyUrl+"/lite2/feed/index/sendDataToKafka",t,(function(t){}))}doesFaveButtonExist(){var t=document.getElementById("widget-fave-html"),s=!1;return this._$.each(["ssw-icon-heart-o","ssw-icon-heart","ssw-wishlist-btn-counter","ssw-fave-btn-content"],(function(e,i){if(s)return!0;t.getElementsByClassName(i).length>0&&(s=!0)})),s}doesFaveButtonPlaceholderExist(){let t=!1;const s=this;return this._$.each([".ssw-fave-btn",".ssw-fave-icon",".ssw-fave-link"],(function(e,i){if(t)return!1;s._$(s.form).find(i).length>0&&(t=!0)})),t||s._$("#widget-fave-html").length>0&&(t=!0),t}isAutoIntegrationEnabled(){return!!window?.sswApp?.metafield_settings?.wishlist_on_product}detectForm(){const t=this;let s=!1;this._$.each(e,(function(i){if(s)return!1;let n=e[i];if(!s&&t._$(n)[0])if(t._$(n).length>1){let e;t._$.each(t._$(n),(function(i,n){if(e)return!1;t._$(n).find('[type="submit"]').length&&(t.form=n,s=!0)}))}else t.form=t._$(n)[0],s=!0}))}injectFaveButton(e){if(this._$(e).find(".shopify-payment-button__button").length>0)this._$(e).find(".shopify-payment-button__button").closest('[data-shopify="payment-button"]').before(s),this._$(`#${t}`).css("width","100%");else if(this._$(e).find('[type="submit"]').length>0){let t,i=this.detectFlexElement(this._$(e).find('[type="submit"]')[0]);t=!1!==i?this._$(i):this._$(e).find('[type="submit"]'),t&&t.after(s)}else e.after(s);this.initializeFaveButton(e)}detectFlexElement(t){let s=t.parentElement,e=0,i=0;for(;s&&e<3&&i<3;){if(e++,this.isFlex(s)){if(!this.isFlex(s.parentElement)&&this.isFlexNoWrap(s))return s;e--,i++}s=s.parentElement}return!1}isFlex(t){const s=this._$(t);return"0 1 auto"!==s.css("flex")||"auto"!==s.css("flex-basis")||"1"!==s.css("flex-shrink")||"0"!==s.css("flex-grow")}isFlexNoWrap(t){return"nowrap"===window.getComputedStyle(t).getPropertyValue("flex-wrap")}isAvailableForGuests(){return!!this._wishlistListsManager.settings.guest_faves}detectProductId(){return window.ShopifyAnalytics?.meta?.product?.id}copyAddToCardClasses(s){const e=this._$(s).find('[type="submit"]').attr("class").split(/\s+/).filter((t=>i.includes(t)));this._$(`#${t} button`).addClass(e.join(" ")),this._$(".shopify-payment-button__button").length>0&&this._$(".shopify-payment-button__button").css("width")>this._$(`#${t} button`).css("width")&&this._$(`#${t} button`).css("width",this._$(".shopify-payment-button__button").css("width"))}copyCardFormStyles(s){const e=this._$(s).find('[type="submit"]');if(1===e.length){if("0px"===this._$(`#${t}`).css("margin-top")){let s,i=!1;e.next().length&&e.next().attr("id")!==t&&(s=e.next()),!s&&e.next().length&&e.next().next().length&&e.next().next().attr("id")!==t&&(s=e.next().next()),s&&s.length&&"0px"!==s.css("margin-top")?(this._$(`#${t}`).css("margin-top",s.css("margin-top")),i=!0):"0px"!==e.css("margin-top")&&(this._$(`#${t}`).css("margin-top",e.css("margin-top")),i=!0),i||2!==e.parent().children().length||this._$(`#${t}`).css("margin-top",e.parent().css("margin-top"))}if("0px"===this._$(`#${t}`).css("margin-bottom")){let s=!1;e.prev().length&&"0px"!==e.prev().css("margin-bottom")?(this._$(`#${t}`).css("margin-bottom",e.prev().css("margin-bottom")),s=!0):"0px"!==e.css("margin-bottom")&&(this._$(`#${t}`).css("margin-bottom",e.css("margin-bottom")),s=!0),s||2!==e.parent().children().length||this._$(`#${t}`).css("margin-top",e.parent().css("margin-bottom"))}!1!==this.detectFlexElement(e[0])&&this._$(`#${t}`).css("width","100%")}}initializeFaveButton(t){const s=this;void 0===window.sswWidgetFaveInterval&&(window.sswWidgetFaveInterval=setInterval((function(){if(void 0!==window.userChecked&&window.userChecked){clearInterval(window.sswWidgetFaveInterval);let e={module:"feed",name:"fave",product_id:s.detectProductId(),variant_id:s._productButtonWidget._wishlistOptionsManager.getVariantId(s._$(t)),first_variant_id:s._productButtonWidget._wishlistOptionsManager.getFirstVariantId(),_sid:sswCookie("hesid"),hash_key:sswCookie("hash_key"),page:"product"};sswCookie("mail_id")&&(e.resource_id=sswCookie("mail_id"),e.resource_type="mail"),ssw.get(sswProxyUrl+"/lite2/core/widget/index",e,(function(e){ssw("#widget-fave-html").html(e),e&&(window._sswFaveNotSync=!0),s.copyAddToCardClasses(t),s.copyCardFormStyles(t)}))}}),300))}}Ssw.wishlist.WishlistProductWidgetInjector=r,Promise.all([Ssw.wishlist.WishlistJqueryLocator.instancePromise,Ssw.wishlist.WishlistListsManager.instancePromise,Ssw.wishlist.WishlistProductButtonWidget.instancePromise]).then((([t,s,e])=>{Ssw.wishlist.instances.WishlistProductWidgetInjector=new r(t.getInstance(),s,e)}))}();
!function(){let s=null;class t{static instancePromise=new Promise((function(t){s=t}));constructor(){s(this),this.getFaveTotalCount()}selectors={counters:"#ssw-fave-item-count span, .ssw-fave-page-side-bar-header-title-count, .ssw-counter-fave-menu",faveLists:"#ssw-fave-list-widget #ssw-fave-lists"};instances={wishlistFavesCountManager:Ssw.wishlist.instances.wishlistFavesCountManager};setDataTotalCount({lists:s}){let t=0;s.forEach((s=>{t+=s.faves_count})),ssw(this.selectors.faveLists).attr("data-count")||ssw(this.selectors.faveLists).attr("data-count",t)}getFaveLists(){let s;return s=window.ssw_fave_page?ssw("#ssw-fave-page-lists-wrapper .ssw-fave-list"):ssw("#ssw-fave-lists-wrapper .ssw-fave-list"),s}setTabListsCounts(){let s,t;this.getFaveLists().each(((e,a)=>{s=ssw(a).find(".ssw-fave-list-container").find(".ssw-fave-item").length,t=ssw(a).find(".ssw-fave-result-board-count").html(s),this.showHideTabListsElements(s,t,a)}))}showHideTabListsElements(s,t,e){s?(ssw(t).removeClass("ssw-hide"),ssw(e).removeClass("ssw-fave-empty-list"),ssw(e).find(".ssw-fave-list-container:eq(0)").removeAttr("tabIndex")):(ssw(t).addClass("ssw-hide"),ssw(e).addClass("ssw-fave-empty-list"),ssw(e).find(".ssw-fave-list-container:eq(0)").attr("tabIndex",1))}getFaveTotalCount(){this.instances.wishlistFavesCountManager.getTotalCount().then((s=>{const t=s.count;ssw(this.selectors.faveLists).attr("data-count",t),this.setTotalFavesCount()}))}setTotalFavesCount(s){const t=ssw(this.selectors.counters);let e=parseInt(ssw(this.selectors.faveLists).attr("data-count"));void 0!==s&&"fave"===s?this.getFaveTotalCount():void 0!==s&&"unfave"===s&&e--,ssw(this.selectors.faveLists).attr("data-count",e),t.html(e),this.setTabListsCounts(),this.showHideCounterAndShareElements(e,t)}showHideCounterAndShareElements(s,t){const e=ssw(".ssw-faves-share-bar"),a=ssw(".ssw-link-fave-menu i"),i=ssw("#ssw-fave-save-block");s?(t.add(e).add(i).removeClass("ssw-hide"),a.attr("class","ssw-icon-heart")):(t.add(e).add(i).addClass("ssw-hide"),a.attr("class","ssw-icon-heart-o"))}}Ssw.wishlist.WishlistCountersWidget=t,Promise.all([Ssw.wishlist.WishlistFavesCountManager.instancePromise,Ssw.wishlist.instances]).then((()=>{Ssw.wishlist.instances.wishlistCountersWidget=new t}))}();